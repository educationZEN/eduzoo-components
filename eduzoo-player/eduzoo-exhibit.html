<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">

<!--
Element providing a basic cardlike box to put in content for eduZOOs.

##### Example


      <eduzoo-exhibit exhibitname="My exhibit title">My content</eduzoo-exhibit>

@element eduzoo-quiz
@blurb Element providing a basic cardlike box to put in content for eduZOOs.
@status alpha
@homepage https://github.com/educationZEN/eduzoo-components/tree/master/eduzoo-exhibit
-->
<polymer-element name="eduzoo-player" attributes="exhibitname notitle">
    <template>
        <link rel="stylesheet" href="eduzoo-exhibit.css">
        <core-header-panel fit>
            <div class="core-header">Header</div>

            <core-animated-pages id="pages" flex selected="0" on-core-animated-pages-transition-end="{{transitionend}}" transitions="cross-fade-all hero-transition">

                <section vertical layout>

                    <div id="noscroll" fit hero-p>
                        <div id="container" flex horizontal wrap around-justified layout cross-fade>
                            <template repeat="{{item in items}}">
                                <div class="card" vertical center center-justified layout hero-id="item-{{item}}" hero?="{{$.pages.selected === item + 1 || lastSelected === item + 1}}" on-tap="{{selectView}}"><span cross-fade>{{item}}</span></div>
                            </template>
                        </div>
                    </div>

                </section>

                <template repeat="{{item in items}}">
                    <section vertical layout>
                        <div class="view" flex vertical center center-justified layout hero-id="item-{{item}}" hero?="{{$.pages.selected === item + 1 || $.pages.selected === 0}}"><span cross-fade>{{item}}</span></div>
                    </section>
                </template>

            </core-animated-pages>
        </core-header-panel>
    </template>
    <script>

        Polymer({
                items : [],
            created: function(){
                console.log("juehiuew")
                var items = [], count=50;
                for (var i=0; i < count; i++) {
                    items.push(i);
                }
                this.items=items;
            },

            selectView : function(e) {
                var i = e.target.templateInstance.model.item;
                this.$.pages.selected = i+1;
            },

            back : function() {
                this.lastSelected = this.$.pages.selected;
                console.log(this.lastSelected);
                this.$.pages.selected = 0;
            },

            transitionend : function() {
                if (this.lastSelected) {
                    this.lastSelected = null;
                }
            },

            testzoos : {
                Classes: {
                    eduzoo: [
                        "basic_writing"
                    ],
                    meth: []
                }
            },

            /**
             * The `exhibitname` attribute sets the title of the exhibit
             *
             * @attribute exhibitname
             * @type string
             * @default 'Exhibit'
             */
            exhibitname: 'Exhibit',
            /**
             * The `notitle` attribute deactivates displaying of title
             *
             * @attribute notitle
             * @type bool
             * @default 'false'
             */
            notitle: false


        })

        var testzoos = {
            Classes: {
                eduzoo: [
                    "basic_writing"
                ],
                meth: []
            }
        }

    </script>

</polymer-element>
